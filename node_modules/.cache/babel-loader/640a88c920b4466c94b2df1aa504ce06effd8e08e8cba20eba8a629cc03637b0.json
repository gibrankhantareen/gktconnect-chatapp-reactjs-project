{"ast":null,"code":"import _regeneratorRuntime from\"D:/01ReactProjects/gktconnect-react-chat/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/01ReactProjects/gktconnect-react-chat/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/01ReactProjects/gktconnect-react-chat/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{useState}from\"react\";import{auth,db}from\"../firebase\";import{addDoc,collection,serverTimestamp}from\"firebase/firestore\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SendMessage=function SendMessage(_ref){var scroll=_ref.scroll;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),message=_useState2[0],setMessage=_useState2[1];var sendMessage=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var _auth$currentUser,uid,displayName,photoURL;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();if(!(message.trim()===\"\")){_context.next=4;break;}alert(\"Enter valid message\");return _context.abrupt(\"return\");case 4:_auth$currentUser=auth.currentUser,uid=_auth$currentUser.uid,displayName=_auth$currentUser.displayName,photoURL=_auth$currentUser.photoURL;_context.next=7;return addDoc(collection(db,\"messages\"),{text:message,name:displayName,avatar:photoURL,createdAt:serverTimestamp(),uid:uid});case 7:setMessage(\"\");scroll.current.scrollIntoView({behavior:\"smooth\"});case 9:case\"end\":return _context.stop();}},_callee);}));return function sendMessage(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(event){return sendMessage(event);},className:\"send-message\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"messageInput\",hidden:true,children:\"Enter Message\"}),/*#__PURE__*/_jsx(\"input\",{id:\"messageInput\",name:\"messageInput\",type:\"text\",className:\"form-input__input\",placeholder:\"type message...\",value:message,onChange:function onChange(e){return setMessage(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Send\"})]});};export default SendMessage;","map":{"version":3,"names":["React","useState","auth","db","addDoc","collection","serverTimestamp","jsx","_jsx","jsxs","_jsxs","SendMessage","_ref","scroll","_useState","_useState2","_slicedToArray","message","setMessage","sendMessage","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","event","_auth$currentUser","uid","displayName","photoURL","wrap","_callee$","_context","prev","next","preventDefault","trim","alert","abrupt","currentUser","text","name","avatar","createdAt","current","scrollIntoView","behavior","stop","_x","apply","arguments","onSubmit","className","children","htmlFor","hidden","id","type","placeholder","value","onChange","e","target"],"sources":["D:/01ReactProjects/gktconnect-react-chat/src/components/SendMessage.js"],"sourcesContent":["import React from \"react\";\nimport { useState } from \"react\";\nimport { auth, db } from \"../firebase\";\nimport { addDoc, collection, serverTimestamp } from \"firebase/firestore\";\n\nconst SendMessage = ({ scroll }) => {\n\n  const [message, setMessage] = useState(\"\");\n  const sendMessage = async (event) => {\n    event.preventDefault();\n    if (message.trim() === \"\") {\n      alert(\"Enter valid message\");\n      return;\n    }\n    const { uid, displayName, photoURL } = auth.currentUser;\n    await addDoc(collection(db, \"messages\"), {\n      text: message,\n      name: displayName,\n      avatar: photoURL,\n      createdAt: serverTimestamp(),\n      uid,\n    });\n    setMessage(\"\");\n    scroll.current.scrollIntoView({ behavior: \"smooth\" });\n  };\n\n\n  return (\n    <form onSubmit={(event) => sendMessage(event)} className=\"send-message\">\n      <label htmlFor=\"messageInput\" hidden>\n        Enter Message\n      </label>\n      <input\n        id=\"messageInput\"\n        name=\"messageInput\"\n        type=\"text\"\n        className=\"form-input__input\"\n        placeholder=\"type message...\"\n        value={message}\n        onChange={(e) => setMessage(e.target.value)}\n      />\n      <button type=\"submit\">Send</button>\n    </form>\n  );\n};\n\nexport default SendMessage;\n"],"mappings":"0YAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,KAAQ,OAAO,CAChC,OAASC,IAAI,CAAEC,EAAE,KAAQ,aAAa,CACtC,OAASC,MAAM,CAAEC,UAAU,CAAEC,eAAe,KAAQ,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEzE,GAAM,CAAAC,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAAC,IAAA,CAAmB,IAAb,CAAAC,MAAM,CAAAD,IAAA,CAANC,MAAM,CAE3B,IAAAC,SAAA,CAA8Bb,QAAQ,CAAC,EAAE,CAAC,CAAAc,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAnCG,OAAO,CAAAF,UAAA,IAAEG,UAAU,CAAAH,UAAA,IAC1B,GAAM,CAAAI,WAAW,6BAAAC,KAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAOC,KAAK,MAAAC,iBAAA,CAAAC,GAAA,CAAAC,WAAA,CAAAC,QAAA,QAAAP,mBAAA,GAAAQ,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAC9BT,KAAK,CAACU,cAAc,EAAE,CAAC,KACnBlB,OAAO,CAACmB,IAAI,EAAE,GAAK,EAAE,GAAAJ,QAAA,CAAAE,IAAA,UACvBG,KAAK,CAAC,qBAAqB,CAAC,CAAC,OAAAL,QAAA,CAAAM,MAAA,kBAAAZ,iBAAA,CAGQxB,IAAI,CAACqC,WAAW,CAA/CZ,GAAG,CAAAD,iBAAA,CAAHC,GAAG,CAAEC,WAAW,CAAAF,iBAAA,CAAXE,WAAW,CAAEC,QAAQ,CAAAH,iBAAA,CAARG,QAAQ,CAAAG,QAAA,CAAAE,IAAA,SAC5B,CAAA9B,MAAM,CAACC,UAAU,CAACF,EAAE,CAAE,UAAU,CAAC,CAAE,CACvCqC,IAAI,CAAEvB,OAAO,CACbwB,IAAI,CAAEb,WAAW,CACjBc,MAAM,CAAEb,QAAQ,CAChBc,SAAS,CAAErC,eAAe,EAAE,CAC5BqB,GAAG,CAAHA,GACF,CAAC,CAAC,QACFT,UAAU,CAAC,EAAE,CAAC,CACdL,MAAM,CAAC+B,OAAO,CAACC,cAAc,CAAC,CAAEC,QAAQ,CAAE,QAAS,CAAC,CAAC,CAAC,wBAAAd,QAAA,CAAAe,IAAA,MAAAvB,OAAA,GACvD,kBAhBK,CAAAL,WAAWA,CAAA6B,EAAA,SAAA5B,KAAA,CAAA6B,KAAA,MAAAC,SAAA,OAgBhB,CAGD,mBACExC,KAAA,SAAMyC,QAAQ,CAAE,SAAAA,SAAC1B,KAAK,QAAK,CAAAN,WAAW,CAACM,KAAK,CAAC,EAAC,CAAC2B,SAAS,CAAC,cAAc,CAAAC,QAAA,eACrE7C,IAAA,UAAO8C,OAAO,CAAC,cAAc,CAACC,MAAM,MAAAF,QAAA,CAAC,eAErC,EAAQ,cACR7C,IAAA,UACEgD,EAAE,CAAC,cAAc,CACjBf,IAAI,CAAC,cAAc,CACnBgB,IAAI,CAAC,MAAM,CACXL,SAAS,CAAC,mBAAmB,CAC7BM,WAAW,CAAC,iBAAiB,CAC7BC,KAAK,CAAE1C,OAAQ,CACf2C,QAAQ,CAAE,SAAAA,SAACC,CAAC,QAAK,CAAA3C,UAAU,CAAC2C,CAAC,CAACC,MAAM,CAACH,KAAK,CAAC,EAAC,EAC5C,cACFnD,IAAA,WAAQiD,IAAI,CAAC,QAAQ,CAAAJ,QAAA,CAAC,MAAI,EAAS,GAC9B,CAEX,CAAC,CAED,cAAe,CAAA1C,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}